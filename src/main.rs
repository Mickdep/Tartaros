use colored::Colorize;
use std::{env, process::exit, net::Ipv4Addr};
mod logger;

fn main() {
  print_banner();
  let args: Vec<String> = env::args().collect();
  if args.len() < 2 {
    logger::print_err("No target provided. Usage: tartaros <ip|domain>");
    exit(0);
  }
  if let Ok(ip_addr) = args[1].parse::<Ipv4Addr>() {
    logger::print_ok("All OK");
    logger::print_ok(&ip_addr.to_string());
  }else{
    logger::print_err("Unable to parse arg to an IP address");
  }
}

fn print_banner() {
  let hand = "
                         ......        ...
                         ...*/...    ...*...
                 ......    ...(....   ...(...
                ....(....   ....(...   ../*..
                  ....(....   ...(...  ...(...
            ......  ...,(... ...(... ...*(...
           ....(.... ...(,.. ..,(......((...
             .../(....................,(((
               ..**...../////////////(((......
               ...////////(((((((((((((,..(((...
               ...///((((((((((,*(((,,,,...((%...
               ...//(((.........*(.........((%...
               ...//((((((((((((.../(((((((%(....
                ...//((((((((((((((((((((%....
                 ......((((((((((((.........
                   ...,/////(((((((,.....
                   ...////////(((((%%...
              ......../////////((((%%...".green();
  println!("{}", &hand);
  println!("{}{}{}", "              ........".truecolor(205,133,63), "/////////((((%%".green(), ".../,...........".truecolor(205,133,63));
  println!("{}{}{}", "       .........*//...".truecolor(205,133,63), "/////////((((%%".green(), "...//............".truecolor(205, 133, 63));
  println!("{}{}{}", "        ......********".truecolor(205, 133, 63), "//////////((((%%".green(), "...****.....".truecolor(205, 133, 63));
  println!("{}", "            .....................................".truecolor(205, 133, 63));
  let text = "
▄▄▄█████▓ ▄▄▄       ██▀███  ▄▄▄█████▓ ▄▄▄       ██▀███   ▒█████    ██████
▓  ██▒ ▓▒▒████▄    ▓██ ▒ ██▒▓  ██▒ ▓▒▒████▄    ▓██ ▒ ██▒▒██▒  ██▒▒██    ▒
▒ ▓██░ ▒░▒██  ▀█▄  ▓██ ░▄█ ▒▒ ▓██░ ▒░▒██  ▀█▄  ▓██ ░▄█ ▒▒██░  ██▒░ ▓██▄
░ ▓██▓ ░ ░██▄▄▄▄██ ▒██▀▀█▄  ░ ▓██▓ ░ ░██▄▄▄▄██ ▒██▀▀█▄  ▒██   ██░  ▒   ██▒
  ▒██▒ ░  ▓█   ▓██▒░██▓ ▒██▒  ▒██▒ ░  ▓█   ▓██▒░██▓ ▒██▒░ ████▓▒░▒██████▒▒
  ▒ ░░    ▒▒   ▓▒█░░ ▒▓ ░▒▓░  ▒ ░░    ▒▒   ▓▒█░░ ▒▓ ░▒▓░░ ▒░▒░▒░ ▒ ▒▓▒ ▒ ░
    ░      ▒   ▒▒ ░  ░▒ ░ ▒░    ░      ▒   ▒▒ ░  ░▒ ░ ▒░  ░ ▒ ▒░ ░ ░▒  ░ ░
  ░        ░   ▒     ░░   ░   ░        ░   ▒     ░░   ░ ░ ░ ░ ▒  ░  ░  ░
               ░  ░   ░                    ░  ░   ░         ░ ░        ░  ".green();
    println!("{}", text);
}
